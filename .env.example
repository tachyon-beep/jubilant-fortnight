# -----------------------------
# Required credentials
# -----------------------------
DISCORD_TOKEN=
DISCORD_APP_ID=

# Primary orders channel (others optional)
GREAT_WORK_CHANNEL_UPCOMING=
GREAT_WORK_CHANNEL_ADMIN=
GREAT_WORK_CHANNEL_ORDERS=
GREAT_WORK_CHANNEL_GAZETTE=
GREAT_WORK_CHANNEL_TABLE_TALK=

# SQLite database locations (defaults align with var/ structure)
GREAT_WORK_DB=var/state/great_work.db
TELEMETRY_DB_PATH=var/telemetry/telemetry.db

# -----------------------------
# Guardian moderation (optional)
# -----------------------------
# Use 'local' by default to run the Guardian model on this host.
# Switch to 'sidecar' and set GREAT_WORK_GUARDIAN_URL when calling an external service.
GREAT_WORK_GUARDIAN_MODE=local     # local or sidecar
# Only used in sidecar mode:
# GREAT_WORK_GUARDIAN_URL=http://localhost:8085/score
# Local mode: path to model weights on the host (mounted into the container as needed)
GREAT_WORK_GUARDIAN_LOCAL_PATH=./models/guardian
GREAT_WORK_GUARDIAN_CATEGORIES=HAP,sexual,violence,self-harm,illicit
GREAT_WORK_GUARDIAN_API_KEY=
GREAT_WORK_GUARDIAN_LOCAL_TOKENS=2
GREAT_WORK_GUARDIAN_ALWAYS=false
GREAT_WORK_MODERATION_STRICT=true
GREAT_WORK_ENFORCE_HTTPS=true

# -----------------------------
# Telemetry & alerting
# -----------------------------
GREAT_WORK_ALERT_WEBHOOK_URLS=
GREAT_WORK_ALERT_WEBHOOK_URL=
GREAT_WORK_ALERT_EMAIL_TO=
GREAT_WORK_ALERT_COOLDOWN_SECONDS=300
GREAT_WORK_ALERT_MIN_ACTIVE_PLAYERS=3
GREAT_WORK_ALERT_MIN_MANIFESTO_RATE=0.5
GREAT_WORK_ALERT_MIN_ARCHIVE_LOOKUPS=1
GREAT_WORK_ALERT_MAX_SEASONAL_DEBT=25
GREAT_WORK_ALERT_MIN_NICKNAME_RATE=0.3
GREAT_WORK_ALERT_MIN_PRESS_SHARES=1
GREAT_WORK_ALERT_MAX_DIGEST_MS=5000
GREAT_WORK_ALERT_MAX_QUEUE=12
GREAT_WORK_ALERT_MIN_RELEASES=1
GREAT_WORK_ALERT_MAX_LLM_LATENCY_MS=4000
GREAT_WORK_ALERT_LLM_FAILURE_RATE=0.25
GREAT_WORK_ALERT_MAX_ORDER_PENDING=6
GREAT_WORK_ALERT_MAX_ORDER_AGE_HOURS=8
TELEMETRY_ALERT_WEBHOOK_URL=
TELEMETRY_MAX_QUERY_HOURS=168
TELEMETRY_MAX_ORDER_RECORDS=1000
TELEMETRY_MAX_HISTORY_DAYS=120

# Calibration snapshots
GREAT_WORK_CALIBRATION_SNAPSHOTS=true
GREAT_WORK_CALIBRATION_SNAPSHOT_DIR=calibration_snapshots
GREAT_WORK_CALIBRATION_SNAPSHOT_KEEP=12
GREAT_WORK_CALIBRATION_SNAPSHOT_DETAILS=true

# -----------------------------
# Archive mirroring (optional)
# -----------------------------
GREAT_WORK_ARCHIVE_PUBLISH_DIR=public
GREAT_WORK_ARCHIVE_PAGES_ENABLED=true
GREAT_WORK_ARCHIVE_PAGES_DIR=
GREAT_WORK_ARCHIVE_PAGES_SUBDIR=archive
GREAT_WORK_ARCHIVE_MAX_STORAGE_MB=512

# -----------------------------
# LLM configuration (optional)
# -----------------------------
LLM_API_BASE=https://api.openai.com/v1
LLM_API_KEY=
LLM_MODEL_NAME=gpt-4o-mini
LLM_TIMEOUT=30
LLM_RETRY_ATTEMPTS=3
LLM_RETRY_SCHEDULE=1,3,10,30

# Narrative tone pack
GREAT_WORK_PRESS_SETTING=post_cyberpunk_collapse

# Qdrant vector search (optional)
GREAT_WORK_QDRANT_INDEXING=false
EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2
ENABLE_QDRANT_SEARCH=false
QDRANT_URL=http://localhost:6333
QDRANT_COLLECTION=great-work-knowledge
QDRANT_MODEL=sentence-transformers/all-MiniLM-L6-v2

# Deterministic runs (optional)
# Seed module-level RNGs for narrative/template selection and LLM helper flows
# GREAT_WORK_RANDOM_SEED=42

# Codacy (CI coverage upload)
CODACY_API_TOKEN=
