# -----------------------------
# Required credentials
# -----------------------------
DISCORD_TOKEN=
DISCORD_APP_ID=

# Primary orders channel (others optional)
GREAT_WORK_CHANNEL_UPCOMING=gw_upcoming
GREAT_WORK_CHANNEL_ADMIN=gw_admin
GREAT_WORK_CHANNEL_ORDERS=gw_orders
GREAT_WORK_CHANNEL_GAZETTE=gw_gazette
GREAT_WORK_CHANNEL_TABLE_TALK=gw_table_talk

# SQLite database location (defaults to great_work.db)
GREAT_WORK_DB=great_work.db

# -----------------------------
# Guardian moderation (optional)
# -----------------------------
GREAT_WORK_GUARDIAN_MODE=sidecar  # sidecar or local
GREAT_WORK_GUARDIAN_URL=http://localhost:8085/score
# GREAT_WORK_GUARDIAN_LOCAL_PATH=./models/guardian
GREAT_WORK_GUARDIAN_CATEGORIES=HAP,sexual,violence,self-harm,illicit
GREAT_WORK_MODERATION_STRICT=true

# -----------------------------
# Telemetry & alerting
# -----------------------------
GREAT_WORK_ALERT_WEBHOOK_URLS=
GREAT_WORK_ALERT_COOLDOWN_SECONDS=300
GREAT_WORK_ALERT_MIN_ACTIVE_PLAYERS=3
GREAT_WORK_ALERT_MIN_MANIFESTO_RATE=0.5
GREAT_WORK_ALERT_MIN_ARCHIVE_LOOKUPS=1
GREAT_WORK_ALERT_MAX_SEASONAL_DEBT=25
GREAT_WORK_ALERT_MIN_NICKNAME_RATE=0.3
GREAT_WORK_ALERT_MIN_PRESS_SHARES=1
GREAT_WORK_ALERT_MAX_DIGEST_MS=5000
GREAT_WORK_ALERT_MAX_QUEUE=12
GREAT_WORK_ALERT_MIN_RELEASES=1
GREAT_WORK_ALERT_MAX_LLM_LATENCY_MS=4000
GREAT_WORK_ALERT_LLM_FAILURE_RATE=0.25
GREAT_WORK_ALERT_MAX_ORDER_PENDING=6
GREAT_WORK_ALERT_MAX_ORDER_AGE_HOURS=8

# Calibration snapshots
GREAT_WORK_CALIBRATION_SNAPSHOTS=true
GREAT_WORK_CALIBRATION_SNAPSHOT_DIR=calibration_snapshots
GREAT_WORK_CALIBRATION_SNAPSHOT_KEEP=12
GREAT_WORK_CALIBRATION_SNAPSHOT_DETAILS=true

# -----------------------------
# Archive mirroring (optional)
# -----------------------------
GREAT_WORK_ARCHIVE_PUBLISH_DIR=web_archive_public
GREAT_WORK_ARCHIVE_PAGES_ENABLED=true
GREAT_WORK_ARCHIVE_PAGES_DIR=
GREAT_WORK_ARCHIVE_PAGES_SUBDIR=archive
GREAT_WORK_ARCHIVE_MAX_STORAGE_MB=512

# -----------------------------
# LLM configuration (optional)
# -----------------------------
LLM_API_BASE=https://api.openai.com/v1
LLM_API_KEY=
LLM_MODEL=gpt-4-turbo-preview
LLM_TIMEOUT=30
LLM_RETRY_ATTEMPTS=3
LLM_RETRY_SCHEDULE=1,3,10,30

# Narrative tone pack
GREAT_WORK_PRESS_SETTING=post_cyberpunk_collapse
